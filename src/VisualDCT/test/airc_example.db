#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBDEND


record(ao, "$(DEVICE):EnvLowTemp") {
  field(SCAN, "Passive")
  field(VAL, "-5")
  field(OMSL, "supervisory")
}

record(ao, "$(DEVICE):EnvTimePeriod") {
  field(SCAN, "Passive")
  field(VAL, "180")
  field(OMSL, "supervisory")
}

record(ao, "$(DEVICE):RoomIsol") {
  field(SCAN, "Passive")
  field(VAL, "0.75")
  field(OMSL, "supervisory")
}

record(ao, "$(DEVICE):TargTemp") {
  field(SCAN, "Passive")
  field(VAL, "22")
  field(OMSL, "supervisory")
  field(DRVH, "40")
  field(DRVL, "-10")
  field(HOPR, "30")
  field(LOPR, "-5")
}

record(ao, "$(DEVICE):TempMaxP") {
  field(SCAN, "Passive")
  field(VAL, "10")
  field(OMSL, "supervisory")
}


record(calc, "$(DEVICE):AirCPow") {
  field(SCAN, "1 second")
  field(CALC, "A > 1 ? 1 : (A < -1) ? -1 : A")
  field(INPA, "$(DEVICE):AirCPowLowLimit.VAL PP")
  field(HOPR, "1")
  field(LOPR, "0")
  field(HIGH, ".8")
  field(HSV, "MINOR")
}

record(calc, "$(DEVICE):AirCPowLin") {
  field(SCAN, "Passive")
  field(VAL, "0")
  field(CALC, "(B - A) / C")
  field(INPA, "$(DEVICE):RoomTemp PP")
  field(INPB, "$(DEVICE):TargTemp PP")
  field(INPC, "$(DEVICE):TempMaxP PP")
}

record(calc, "$(DEVICE):AirCPowLowLimit") {
  field(SCAN, "Passive")
  field(CALC, "abs(A) < .25 ? 0 : A")
  field(INPA, "$(DEVICE):AirCPowLin.VAL PP")
}

record(calc, "$(DEVICE):OutTemp") {
  field(SCAN, "1 second")
  field(VAL, ".6")
  field(CALC, "(A + 1) / 2 * (C - B) + B")
  field(INPA, "$(DEVICE):SinTime PP")
  field(INPB, "$(DEVICE):EnvLowTemp PP")
  field(INPC, "$(DEVICE):EnvHighTemp.VAL PP")
  field(HOPR, "30")
  field(LOPR, "-5")
}

record(calc, "$(DEVICE):RoomTemp") {
  field(SCAN, "1 second")
  field(CALC, "A + (1 - E) * (B - A) + C * D")
  field(INPA, "$(DEVICE):RoomTemp.VAL PP")
  field(VAL, "22")
  field(INPB, "$(DEVICE):OutTemp.VAL PP")
  field(INPC, "$(DEVICE):AirCPow.VAL ")
  field(INPD, "$(DEVICE):AirCStr.VAL PP")
  field(INPE, "$(DEVICE):RoomIsol PP")
  field(FLNK, "$(DEVICE):TempDiff")
  field(HOPR, "30")
  field(LOPR, "-5")
}

record(calc, "$(DEVICE):SinTime") {
  field(SCAN, "Passive")
  field(CALC, "sin(2 * pi * A / B)")
  field(INPA, "$(DEVICE):Time PP")
  field(INPB, "$(DEVICE):EnvTimePeriod PP")
}

record(calc, "$(DEVICE):TempDiff") {
  field(SCAN, "Passive")
  field(CALC, "abs(A - B)")
  field(INPA, "$(DEVICE):RoomTemp PP")
  field(INPB, "$(DEVICE):TargTemp PP")
  field(HOPR, "30")
  field(LOPR, "-5")
  field(HIGH, "5")
  field(HSV, "MAJOR")
}


record(calc, "$(DEVICE):Time") {
  field(SCAN, "1 second")
  field(CALC, "A + 1")
  field(INPA, "$(DEVICE):Time PP")
}

record(ao, "$(DEVICE):EnvHighTemp") {
  field(SCAN, "Passive")
  field(VAL, "35")
  field(OMSL, "supervisory")
}

record(ao, "$(DEVICE):AirCStr") {
  field(SCAN, "Passive")
  field(VAL, "5")
  field(OMSL, "supervisory")
}

#! Further lines contain data used by VisualDCT
#! View(1397,1753,0.7)
#! SpreadsheetView(R,"ao","Group","true",-3355444,RowOrder("Name",0,"Ascending"),Col("Name"),Col("VAL"),Col("OMSL"),Col("SCAN"),Col("DOL"),Col("DRVL"),Col("DRVH"),Col("LOPR"),Col("HOPR"))
#! SpreadsheetView(R,"calc","Group","true",-3355444,RowOrder("Name",0,"Ascending"),Col("Name"),Col("VAL"),Col("LOPR"),Col("HOPR"),Col("SCAN"),Col("HIGH"),Col("HSV"),Col("CALC"),Col("INPA"),Col("INPA[2]>"),Col("INPB"),Col("INPB[2]>"),Col("INPC"),Col("INPC[2]>"),Col("INPD"),Col("INPD[2]>"),Col("INPE"),Col("INPE[2]>"),SplitCol("INPA","Delimiter","\s+"),SplitCol("INPB","Delimiter","\s+"),SplitCol("INPC","Delimiter","\s+"),SplitCol("INPD","Delimiter","\s+"),SplitCol("INPE","Delimiter","\s+"))
#! Record("$(DEVICE):EnvLowTemp",2160,2740,0,1,"$(DEVICE):EnvLowTemp")
#! Field("$(DEVICE):EnvLowTemp.VAL",16777215,1,"$(DEVICE):EnvLowTemp.VAL")
#! Record("$(DEVICE):EnvTimePeriod",1860,2700,0,1,"$(DEVICE):EnvTimePeriod")
#! Field("$(DEVICE):EnvTimePeriod.VAL",16777215,1,"$(DEVICE):EnvTimePeriod.VAL")
#! Record("$(DEVICE):RoomIsol",2520,3080,0,1,"$(DEVICE):RoomIsol")
#! Field("$(DEVICE):RoomIsol.VAL",16777215,1,"$(DEVICE):RoomIsol.VAL")
#! Record("$(DEVICE):TargTemp",2180,3203,0,1,"$(DEVICE):TargTemp")
#! Field("$(DEVICE):TargTemp.VAL",16777215,1,"$(DEVICE):TargTemp.VAL")
#! Record("$(DEVICE):TempMaxP",2160,3400,0,1,"$(DEVICE):TempMaxP")
#! Field("$(DEVICE):TempMaxP.VAL",16777215,1,"$(DEVICE):TempMaxP.VAL")
#! Record("$(DEVICE):AirCPow",2860,3243,0,1,"$(DEVICE):AirCPow")
#! Field("$(DEVICE):AirCPow.VAL",16777215,1,"$(DEVICE):AirCPow.VAL")
#! Field("$(DEVICE):AirCPow.INPA",16777215,0,"$(DEVICE):AirCPow.INPA")
#! Link("$(DEVICE):AirCPow.INPA","$(DEVICE):AirCPowLowLimit.VAL")
#! Record("$(DEVICE):AirCPowLin",2540,3378,0,1,"$(DEVICE):AirCPowLin")
#! Field("$(DEVICE):AirCPowLin.INPA",16777215,1,"$(DEVICE):AirCPowLin.INPA")
#! Link("$(DEVICE):AirCPowLin.INPA","$(DEVICE):RoomTemp.VAL")
#! Field("$(DEVICE):AirCPowLin.INPB",16777215,0,"$(DEVICE):AirCPowLin.INPB")
#! Link("$(DEVICE):AirCPowLin.INPB","$(DEVICE):TargTemp.VAL")
#! Field("$(DEVICE):AirCPowLin.INPC",16777215,0,"$(DEVICE):AirCPowLin.INPC")
#! Link("$(DEVICE):AirCPowLin.INPC","$(DEVICE):TempMaxP.VAL")
#! Field("$(DEVICE):AirCPowLin.VAL",16777215,1,"$(DEVICE):AirCPowLin.VAL")
#! Record("$(DEVICE):AirCPowLowLimit",2860,3480,0,1,"$(DEVICE):AirCPowLowLimit")
#! Field("$(DEVICE):AirCPowLowLimit.INPA",16777215,0,"$(DEVICE):AirCPowLowLimit.INPA")
#! Link("$(DEVICE):AirCPowLowLimit.INPA","$(DEVICE):AirCPowLin.VAL")
#! Field("$(DEVICE):AirCPowLowLimit.VAL",16777215,0,"$(DEVICE):AirCPowLowLimit.VAL")
#! Record("$(DEVICE):OutTemp",2520,2628,0,1,"$(DEVICE):OutTemp")
#! Field("$(DEVICE):OutTemp.VAL",16777215,1,"$(DEVICE):OutTemp.VAL")
#! Field("$(DEVICE):OutTemp.INPA",16777215,0,"$(DEVICE):OutTemp.INPA")
#! Link("$(DEVICE):OutTemp.INPA","$(DEVICE):SinTime.VAL")
#! Field("$(DEVICE):OutTemp.INPB",16777215,0,"$(DEVICE):OutTemp.INPB")
#! Link("$(DEVICE):OutTemp.INPB","$(DEVICE):EnvLowTemp.VAL")
#! Field("$(DEVICE):OutTemp.INPC",16777215,0,"$(DEVICE):OutTemp.INPC")
#! Link("$(DEVICE):OutTemp.INPC","$(DEVICE):EnvHighTemp.VAL")
#! Record("$(DEVICE):RoomTemp",2840,2765,0,1,"$(DEVICE):RoomTemp")
#! Field("$(DEVICE):RoomTemp.INPA",16777215,0,"$(DEVICE):RoomTemp.INPA")
#! Link("$(DEVICE):RoomTemp.INPA","$(DEVICE):RoomTemp.VAL")
#! Field("$(DEVICE):RoomTemp.INPB",16777215,0,"$(DEVICE):RoomTemp.INPB")
#! Link("$(DEVICE):RoomTemp.INPB","$(DEVICE):OutTemp.VAL")
#! Field("$(DEVICE):RoomTemp.INPC",16777215,1,"$(DEVICE):RoomTemp.INPC")
#! Link("$(DEVICE):RoomTemp.INPC","$(DEVICE):AirCPow.VAL")
#! Field("$(DEVICE):RoomTemp.INPD",16777215,0,"$(DEVICE):RoomTemp.INPD")
#! Link("$(DEVICE):RoomTemp.INPD","$(DEVICE):AirCStr.VAL")
#! Field("$(DEVICE):RoomTemp.INPE",16777215,0,"$(DEVICE):RoomTemp.INPE")
#! Link("$(DEVICE):RoomTemp.INPE","$(DEVICE):RoomIsol.VAL")
#! Field("$(DEVICE):RoomTemp.VAL",16777215,1,"$(DEVICE):RoomTemp.VAL")
#! Field("$(DEVICE):RoomTemp.FLNK",16777215,1,"$(DEVICE):RoomTemp.FLNK")
#! Link("$(DEVICE):RoomTemp.FLNK","$(DEVICE):TempDiff")
#! Record("$(DEVICE):SinTime",2160,2546,0,1,"$(DEVICE):SinTime")
#! Field("$(DEVICE):SinTime.VAL",16777215,1,"$(DEVICE):SinTime.VAL")
#! Field("$(DEVICE):SinTime.INPA",16777215,0,"$(DEVICE):SinTime.INPA")
#! Link("$(DEVICE):SinTime.INPA","$(DEVICE):Time.VAL")
#! Field("$(DEVICE):SinTime.INPB",16777215,0,"$(DEVICE):SinTime.INPB")
#! Link("$(DEVICE):SinTime.INPB","$(DEVICE):EnvTimePeriod.VAL")
#! Record("$(DEVICE):TempDiff",3180,3008,0,0,"$(DEVICE):TempDiff")
#! Field("$(DEVICE):TempDiff.INPA",16777215,0,"$(DEVICE):TempDiff.INPA")
#! Link("$(DEVICE):TempDiff.INPA","$(DEVICE):RoomTemp.VAL")
#! Field("$(DEVICE):TempDiff.INPB",16777215,0,"$(DEVICE):TempDiff.INPB")
#! Link("$(DEVICE):TempDiff.INPB","$(DEVICE):TargTemp.VAL")
#! Record("$(DEVICE):Time",1860,2540,0,1,"$(DEVICE):Time")
#! Field("$(DEVICE):Time.VAL",16777215,1,"$(DEVICE):Time.VAL")
#! Field("$(DEVICE):Time.INPA",16777215,0,"$(DEVICE):Time.INPA")
#! Link("$(DEVICE):Time.INPA","$(DEVICE):Time.VAL")
#! Record("$(DEVICE):EnvHighTemp",2160,2880,0,1,"$(DEVICE):EnvHighTemp")
#! Field("$(DEVICE):EnvHighTemp.VAL",16777215,1,"$(DEVICE):EnvHighTemp.VAL")
#! Record("$(DEVICE):AirCStr",2520,2940,0,1,"$(DEVICE):AirCStr")
#! Field("$(DEVICE):AirCStr.VAL",16777215,1,"$(DEVICE):AirCStr.VAL")
